<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Varify Please</title>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />

</head>  <style>
    *{
      padding: 0px;
      margin: 0px;
    }
    
   .varification_saction, body{
     width:100%;
     height: 46em ;
     background: #F3FFF8;
     display: flex ; 
     flex-direction: row;
     justify-content: center;
   }
   
   
   section{
     padding-top: 3.4em ;
   }
     
  
   
  .varify_box {
    width:27em ; 
    height:21.6em;
    border-radius: 0.6em;
    box-shadow: 0px 0px 10px #00000033;
    background: #fff;
    display:flex;
    flex-direction:column;
    flex-wrap: wrap;
    padding: 2em 0px 15px 0em ;
  }
  
  
 .icon_box {
   display: flex ; flex-direction: column; 
   align-items: center;
   width:100%;
  padding-bottom: 1em;
 }
 
.icon_box > i {
  font-size:4.5em ;
  margin:10px 0px 10px 0px ; ;
}

.icon_box > h4{
  font-size: 1.4em ;
}

.icon_box > p {
  font-weight: 500;
  font-size: 0.8em;
  color: #000000CC;
  text-align: center;
}
 .opt_input_box{
   display:flex ; 
   flex-direction: row;
   justify-content: center; 
   column-gap: 0.65em ; 
 }
 
.opt_input_box > input{
  width: 29em ;
  height: 3.1em ;
  text-align: center;
 
  border: 1.7px solid #00000040;
  border-radius: 0.4em ;
  border:2px solid  #222A2814;
  justify-content: center; 
  padding-left: 17px ;
 border-bottom: 2.5px solid #1EB89054;
}

.opt_input_box > input:focus{
  outline: none;
  
}
 
 
.btn-box{
  display: flex ; flex-direction: row ;
  justify-content: center;
  padding: 1em 0px 0px 0px;
}


.btn-box > button {
  padding:0.4em 0.85em 0.4em 0.85em ; 
  color: white ; 
  background: #119155;
  border:none;
  border-radius: 9px ; 
  font-size: 1.7em  ;
  font-weight: 900px;
}



  </style>



<body>
  <section class="varification_saction">
    <div class="varify_box">
      <div class="icon_box">
       <h4>OTP Varification </h4>
        <i class="fa-solid fa-user-shield"></i>
        <p> Type the Otp Send To Your Gmail <br>
        <span> Otp Will Expire in 60s</span>
        </p>
      </div>
      <div class="opt_input_box">
        <input placeholder="Enter Varification Code"  type="number" maxlength="1" minlength="6" name="6" class="input">

      </div>
      <div class="btn-box">
        <button class="varify-btn">Varify</button>
      </div>
    </div>
  </section>
  <script>
  
  
    let btn = document.querySelector('.varify-btn');
   let input = document.querySelector('input');
   
   input.onkeypress = async (e) => {
     if(input.value.length === 6) { 
       //await fetchData() ; 
       return
     }
     
     
     if(e.key === Enter) {
       if( input.value.length !== 6) {
         return alert('Your varification code should be 6 Charecters')
       }
     }
   }
   
   
   
   btn.addEventListener('click', async (e) => {
     e.preventDefault();
     
     if( input.value.length !== 6) {
     alert('Your Varification code Should Be 6 Charecters') ;return; 
     } ; 
    // await fetchData();
     return;
   })
  
 let fetchData =async () => {
   let res= await fetch('http://localhost:4000/auth/varify?code=' + input.value , {
    method:'POST'
   } ) ;
     
     let response  = await res.json();
     if(response.url !== undefined ) {
       return window.location.replace(response.url) ;
     }
     
     if(response.error !== undefined ) { return alert(response.error)}
     input.disabled = true ; 
 }
  
  
  
  </script>
  
  
  
  
  
  
  
  
  
  
</body>
</html>


